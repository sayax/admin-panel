"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[179],{9345:(u,d,e)=>{var i,a;e.d(d,{F:()=>i}),(a=i||(i={})).PROFILE="profile",a.TEACHER="teacher"},9785:(u,d,e)=>{e.d(d,{Q:()=>h});var i=e(2560),a=e(3870),t=e(745),f=e(3609),p=e(635),l=e(9345);class h{constructor(){this.firestore=(0,i.f3M)(a.gg),this.profileCollection=(0,a.hJ)(this.firestore,l.F.PROFILE)}getUsersInList(c){if(!c||!c.length)return(0,t.of)([]);const m=(0,a.IO)(this.profileCollection,(0,a.ar)("uid","in",c));return(0,f.D)((0,a.PL)(m)).pipe((0,p.U)(v=>v.docs.map(C=>C.data())))}getUser(c){const m=(0,a.JU)(this.profileCollection,c);return(0,f.D)((0,a.QT)(m)).pipe((0,p.U)(s=>s.data()))}}h.\u0275fac=function(c){return new(c||h)},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})},8915:(u,d,e)=>{e.d(d,{e:()=>t});var i=e(2560),a=e(9785);class t{constructor(){this.userApiService=(0,i.f3M)(a.Q)}getUser(p){return this.userApiService.getUser(p)}}t.\u0275fac=function(p){return new(p||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})},8027:(u,d,e)=>{var i=e(4497),a=e(8847),t=e(2560),f=e(4164),p=e(9337);class l{constructor(){this.authService=(0,t.f3M)(f._o),this.router=(0,t.f3M)(a.F0)}canActivate(n,r){return console.log(n,r),this.authService.isAuthenticated().pipe((0,p.b)(y=>{y||this.router.navigate(["/auth"])}))}}l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});const h=[{path:"",loadChildren:()=>e.e(113).then(e.bind(e,9113)).then(o=>o.DashboardModule)},{path:"auth",loadChildren:()=>e.e(845).then(e.bind(e,7845)).then(o=>o.LoginModule)},{path:"profile",loadChildren:()=>e.e(855).then(e.bind(e,1855)).then(o=>o.ProfileModule),canActivate:[l]},{path:"teacher",loadChildren:()=>e.e(42).then(e.bind(e,3042)).then(o=>o.TeacherModule),canActivate:[l]}];class g{}g.\u0275fac=function(n){return new(n||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[a.Bz.forRoot(h),a.Bz]});var c=e(116),m=e(635),s=e(5403),v=e(4666),C=e(2673),S=e(4874),D=e(745),x=e(8915);function B(o,n){if(1&o){const r=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(r);const Q=t.oxw();return t.KtG(Q.toggle())}),t._UZ(1,"nb-icon",5),t.qZA()}}const R=function(){return["/auth"]};function F(o,n){1&o&&(t.TgZ(0,"a",6),t._UZ(1,"nb-icon",7),t.qZA()),2&o&&t.Q6J("routerLink",t.DdM(1,R))}function z(o,n){if(1&o&&t._UZ(0,"nb-user",9),2&o){const r=n.ngIf;t.Q6J("picture",r.avatar_urls[0])("name",r.first_name+" "+r.last_name)}}function H(o,n){if(1&o&&(t.YNc(0,z,1,2,"nb-user",8),t.ALo(1,"async")),2&o){const r=t.oxw();t.Q6J("ngIf",t.lcZ(1,1,r.user$))}}class b{constructor(){this.sidebarService=(0,t.f3M)(s.lzT),this.nbAuthService=(0,t.f3M)(f._o),this.route=(0,t.f3M)(a.gz),this.router=(0,t.f3M)(a.F0),this.authService=(0,t.f3M)(x.e),this.isLoggedIn$=this.nbAuthService.isAuthenticated(),this.user$=this.nbAuthService.getToken().pipe((0,C.w)(n=>this.authService.getUser(n.getPayload().user_id))),this.title$=this.router.events.pipe((0,c.h)(n=>n instanceof a.m2),(0,S.O)(this.router),(0,C.w)(()=>{let n=this.route.firstChild;for(;n?.firstChild;)n=n.firstChild;return n?.data??(0,D.of)({title:"Admin"})}),(0,m.U)(n=>n.title))}toggle(){this.sidebarService.toggle()}}function J(o,n){1&o&&(t.TgZ(0,"nb-layout-header",3),t._UZ(1,"app-header"),t.qZA())}b.\u0275fac=function(n){return new(n||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-header"]],decls:10,vars:10,consts:[["nbButton","","status","basic","size","tiny","class","burger",3,"click",4,"ngIf"],[1,"navigation"],["class","login","nbButton","","status","basic","size","tiny",3,"routerLink",4,"ngIf","ngIfElse"],["loggedIn",""],["nbButton","","status","basic","size","tiny",1,"burger",3,"click"],["icon","menu-outline"],["nbButton","","status","basic","size","tiny",1,"login",3,"routerLink"],["icon","person-outline"],[3,"picture","name",4,"ngIf"],[3,"picture","name"]],template:function(n,r){if(1&n&&(t.YNc(0,B,2,0,"button",0),t.ALo(1,"async"),t.TgZ(2,"h1"),t._uU(3),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"div",1),t.YNc(6,F,2,2,"a",2),t.ALo(7,"async"),t.YNc(8,H,2,3,"ng-template",null,3,t.W1O),t.qZA()),2&n){const y=t.MAs(9);t.Q6J("ngIf",t.lcZ(1,4,r.isLoggedIn$)),t.xp6(3),t.Oqu(t.lcZ(4,6,r.title$)),t.xp6(3),t.Q6J("ngIf",!t.lcZ(7,8,r.isLoggedIn$))("ngIfElse",y)}},dependencies:[v.O5,a.rH,s.fMN,s.DPz,s.k0$,v.Ov],styles:["[_nghost-%COMP%]{display:flex;align-items:center;width:100%}.navigation[_ngcontent-%COMP%]{margin-left:auto}.burger[_ngcontent-%COMP%]{--button-filled-basic-background-color: transparent;--button-filled-basic-hover-background-color: transparent;--button-filled-basic-focus-background-color: transparent;margin-right:16px}.burger[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{--button-tiny-icon-size: 20px}.login[_ngcontent-%COMP%]{--button-filled-basic-background-color: transparent;--button-filled-basic-hover-background-color: transparent;--button-filled-basic-focus-background-color: transparent;text-transform:lowercase}.login[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{--button-tiny-icon-size: 20px}"],changeDetection:0});class A{constructor(){this.title="admin-panel",this.items=[{title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",link:"/"},{title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",link:"/profile",pathMatch:"full"},{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439",link:"/teacher",pathMatch:"prefix"},{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432",link:"/student",pathMatch:"full"},{title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",link:"/contact",pathMatch:"full"},{title:"\u041e \u043d\u0430\u0441",link:"/about",pathMatch:"full"},{title:"\u0412\u044b\u0439\u0442\u0438",link:"/auth/logout"}],this.router=(0,t.f3M)(a.F0),this.sidebarService=(0,t.f3M)(s.lzT),this.hasHeader$=this.router.events.pipe((0,c.h)(n=>n instanceof a.m2),(0,m.U)(n=>n.url),(0,m.U)(n=>{const r=!n.includes("auth");return r||this.sidebarService.collapse(),r}))}}A.\u0275fac=function(n){return new(n||A)},A.\u0275cmp=t.Xpm({type:A,selectors:[["app-root"]],decls:8,vars:8,consts:[["fixed","",4,"ngIf"],["state","collapsed"],[3,"items"],["fixed",""]],template:function(n,r){1&n&&(t.TgZ(0,"nb-layout"),t.YNc(1,J,2,0,"nb-layout-header",0),t.ALo(2,"async"),t.TgZ(3,"nb-sidebar",1),t._UZ(4,"nb-menu",2),t.qZA(),t.TgZ(5,"nb-layout-column"),t.ALo(6,"async"),t._UZ(7,"router-outlet"),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,r.hasHeader$)),t.xp6(3),t.Q6J("items",r.items),t.xp6(1),t.ekj("main-layout",t.lcZ(6,6,r.hasHeader$)))},dependencies:[v.O5,a.lC,s.Aqw,s.dP_,s.dmS,s.nZR,s.mBz,b,v.Ov],styles:["nb-sidebar[_ngcontent-%COMP%], nb-sidebar[_ngcontent-%COMP%] > div.main-container[_ngcontent-%COMP%]{transition:width .3s}.main-layout[_ngcontent-%COMP%]{--layout-padding: 1rem}"]});var P=e(9674);const O={firebase:{projectId:"adminpanelfire",appId:"1:459068437086:web:9a4362f897fc83db06bacf",storageBucket:"adminpanelfire.appspot.com",apiKey:"AIzaSyCPPEzrugMj8qBy_XV11rpre81fj_fJGK0",authDomain:"adminpanelfire.firebaseapp.com",messagingSenderId:"459068437086"}};var I=e(3291),E=e(8563),T=e(3870),L=e(4849),Z=e(7204),$=e(9906),K=e(9557),U=e(9779),W=e(1879);class M{}M.\u0275fac=function(n){return new(n||M)},M.\u0275mod=t.oAB({type:M,bootstrap:[A]}),M.\u0275inj=t.cJS({providers:[{provide:W.Dh,useValue:O.firebase}],imports:[i.b2,g,(0,P.hX)(()=>(0,P.ZF)(O.firebase)),(0,I.AR)(()=>(0,I.v0)()),(0,E.v8)(()=>(0,E.N8)()),(0,T.Cm)(()=>(0,T.ad)()),(0,L.W$)(()=>(0,L.$C)()),(0,Z.Vq)(()=>(0,Z.cF)()),$.rT,s.SDF.forRoot({name:"default"}),U.Nk,f.S.forRoot({forms:{login:{strategy:"password",rememberMe:!0,socialLinks:[]},register:{strategy:"password",terms:!0,socialLinks:[]},logout:{strategy:"password"},requestPassword:{strategy:"password",socialLinks:[]},resetPassword:{strategy:"password",socialLinks:[]},validation:{password:{required:!0,minLength:6,maxLength:50},email:{required:!0}}},strategies:[U.F3.setup({name:"password",login:{redirect:{success:"/"}},register:{redirect:{success:"/auth"}},logout:{redirect:{success:"/"}},requestPassword:{redirect:{success:"/auth"}},resetPassword:{redirect:{success:"/auth"}}})]}),s.BW0,s.P1.forRoot(),s.j5J.forRoot(),s.KdK,s.T2N,s.AE1,K.$]}),i.q6().bootstrapModule(M).catch(o=>console.error(o))}},u=>{u.O(0,[736],()=>{return i=8027,u(u.s=i);var i});u.O()}]);
//# sourceMappingURL=main.3743ca87ced9a9cb.js.map