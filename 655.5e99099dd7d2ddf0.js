"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[655],{1655:(J,h,i)=>{i.r(h),i.d(h,{TeacherListModule:()=>m});var d,u,c,g=i(4666),t=i(2560),_=i(3432),n=i(1008),r=i(2508);(u=d||(d={})).kizomba="kizomba",u.salsa="salsa",u.bachata="bachata",function(u){u.beginner="beginner",u.intermediate="intermediate",u.advanced="advanced",u.pro="pro"}(c||(c={}));const f=[{value:d.kizomba,title:"\u041a\u0438\u0437\u043e\u043c\u0431\u0430"},{value:d.salsa,title:"\u0421\u0430\u043b\u044c\u0441\u0430"},{value:d.bachata,title:"\u0411\u0430\u0447\u0430\u0442\u0430"}],b=[{value:c.beginner,title:"\u041d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439"},{value:c.intermediate,title:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439"},{value:c.advanced,title:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439"},{value:c.pro,title:"\u041f\u0440\u043e\u0444\u0438"}];var T=i(8217);function v(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-user",7),t.ALo(2,"async"),t.ALo(3,"mediaUrl"),t.TgZ(4,"button",8),t.NdJ("click",function(){const a=t.CHM(e).$implicit,L=t.oxw(3);return t.KtG(L.removeTeacher(a))}),t._UZ(5,"nb-icon",9),t.qZA()()}if(2&u){const e=o.$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("picture",t.lcZ(2,4,t.lcZ(3,6,e.avatar_url))||"")("name",e.first_name+" "+e.last_name)("title",e.level+" \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c"),t.xp6(3),t.Q6J("disabled",s.loading)}}function C(u,o){if(1&u&&(t.TgZ(0,"nb-list"),t.YNc(1,v,6,8,"nb-list-item",6),t.qZA()),2&u){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function Z(u,o){if(1&u&&(t.ynx(0),t.YNc(1,C,2,1,"nb-list",5),t.BQk()),2&u){const e=o.ngIf;t.oxw();const s=t.MAs(10);t.xp6(1),t.Q6J("ngIf",e.length)("ngIfElse",s)}}function x(u,o){1&u&&(t.TgZ(0,"p"),t._uU(1,"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),t.qZA())}function F(u,o){if(1&u&&(t.TgZ(0,"nb-option",21),t._uU(1),t.qZA()),2&u){const e=o.$implicit;t.Q6J("value",e.uid),t.xp6(1),t.AsE("",e.first_name," ",e.last_name,"")}}function y(u,o){if(1&u&&(t.TgZ(0,"nb-option",21),t._uU(1),t.qZA()),2&u){const e=o.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.title)}}function A(u,o){if(1&u&&(t.TgZ(0,"nb-option",21),t._uU(1),t.qZA()),2&u){const e=o.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.title)}}function B(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"nb-card")(1,"nb-card-header"),t._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f"),t.qZA(),t.TgZ(3,"nb-card-body")(4,"form",10)(5,"div",11)(6,"label",12),t._uU(7,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),t.qZA(),t.TgZ(8,"nb-select",13),t.YNc(9,F,2,3,"nb-option",14),t.ALo(10,"async"),t.qZA()(),t.TgZ(11,"div",11)(12,"label",15),t._uU(13,"\u0421\u0442\u0438\u043b\u0438"),t.qZA(),t.TgZ(14,"nb-select",16),t.YNc(15,y,2,2,"nb-option",14),t.qZA()(),t.TgZ(16,"div",11)(17,"label",17),t._uU(18,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"),t.qZA(),t.TgZ(19,"nb-select",18),t.YNc(20,A,2,2,"nb-option",14),t.qZA()()()(),t.TgZ(21,"nb-card-footer")(22,"button",19),t.NdJ("click",function(){const a=t.CHM(e).dialogRef;return t.KtG(a.close())}),t._uU(23,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA(),t.TgZ(24,"button",20),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.addTeacher(l.form))}),t._uU(25,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()()()}if(2&u){const e=t.oxw();let s,l,a;t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("status",null!=(s=e.form.get("uid"))&&s.touched?null!=(s=e.form.get("uid"))&&s.invalid?"danger":"success":"basic"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(10,8,e.users$)),t.xp6(5),t.Q6J("status",null!=(l=e.form.get("styles"))&&l.touched?null!=(l=e.form.get("styles"))&&l.invalid?"danger":"success":"basic"),t.xp6(1),t.Q6J("ngForOf",e.styles),t.xp6(4),t.Q6J("status",null!=(a=e.form.get("level"))&&a.touched?null!=(a=e.form.get("level"))&&a.invalid?"danger":"success":"basic"),t.xp6(1),t.Q6J("ngForOf",e.levels),t.xp6(4),t.Q6J("disabled",e.loading)}}class p{constructor(){this.teacherService=(0,t.f3M)(_.S),this.dialogService=(0,t.f3M)(n.Gln),this.formBuilder=(0,t.f3M)(r.qu),this.toastr=(0,t.f3M)(n.quB),this.cdr=(0,t.f3M)(t.sBO),this.loading=!1,this.styles=f,this.levels=b,this.form=this.formBuilder.group({uid:[null,r.kI.required],is_active:[!0],styles:[null],level:["",r.kI.required]})}ngOnInit(){this.getData()}getData(){this.list$=this.teacherService.getList(),this.users$=this.teacherService.getUsers()}openDialog(o){this.ref=this.dialogService.open(o)}addTeacher(o){this.teacherService.addTeacher(o.value).subscribe({complete:()=>{this.toastr.show("\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d","\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b",{status:"success"}),this.loading=!1,this.ref.close(),this.cdr.markForCheck(),this.getData()},error:e=>{this.toastr.show(e?.message,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",{status:"error"}),console.log("error",e),this.loading=!1,this.cdr.markForCheck()}})}removeTeacher(o){this.teacherService.removeTeacher({uid:o.uid}).subscribe({complete:()=>{this.toastr.show("\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0435\u043d","\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b",{status:"success"}),this.loading=!1,this.cdr.markForCheck(),this.getData()},error:e=>{this.toastr.show(e?.message,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",{status:"error"}),console.log("error",e),this.loading=!1,this.cdr.markForCheck()}})}}p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-teacher-list"]],decls:13,vars:3,consts:[["size","large"],["nbButton","","status","primary","type","button",3,"click"],[4,"ngIf"],["noTeachers",""],["dialog",""],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[3,"picture","name","title"],["nbButton","","type","button","nbTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f","nbTooltipStatus","primary",1,"teacher-delete-button",3,"disabled","click"],["icon","trash-outline"],[3,"formGroup"],[1,"form-group"],["for","uid"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","name","uid","formControlName","uid",3,"status"],[3,"value",4,"ngFor","ngForOf"],["for","styles"],["multiple","","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0438\u043b\u0438","name","styles","formControlName","styles",3,"status"],["for","level"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0440\u043e\u0432\u0435\u043d\u044c","name","level","formControlName","level",3,"status"],["nbButton","",3,"click"],["nbButton","","status","primary",3,"disabled","click"],[3,"value"]],template:function(o,e){if(1&o){const s=t.EpF();t.TgZ(0,"nb-layout")(1,"nb-layout-column")(2,"nb-card",0)(3,"nb-card-header")(4,"button",1),t.NdJ("click",function(){t.CHM(s);const a=t.MAs(12);return t.KtG(e.openDialog(a))}),t._uU(5,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f"),t.qZA()(),t.TgZ(6,"nb-card-body"),t.YNc(7,Z,2,2,"ng-container",2),t.ALo(8,"async"),t.YNc(9,x,2,0,"ng-template",null,3,t.W1O),t.qZA()(),t.YNc(11,B,26,10,"ng-template",null,4,t.W1O),t.qZA()()}2&o&&(t.xp6(7),t.Q6J("ngIf",t.lcZ(8,1,e.list$)))},dependencies:[g.sg,g.O5,n.Aqw,n.dP_,n.zP_,n.qBV,n.Asz,n.yKW,n.XWE,n.ndF,n.k0$,n.DPz,n.rs,n.q51,n.fMN,n.jNv,r._Y,r.JJ,r.JL,r.sg,r.u,g.Ov,T.B],styles:["[_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]     .user-title{text-transform:capitalize}.form-group[_ngcontent-%COMP%]{margin-bottom:.625rem}.teacher-delete-button[_ngcontent-%COMP%]{--button-filled-basic-background-color: transparent;--button-filled-basic-hover-background-color: transparent;--button-filled-basic-focus-background-color: transparent;margin-left:auto}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0});var E=i(7091),k=i(4466);class m{}m.\u0275fac=function(o){return new(o||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[g.ez,n.BW0,n.COg,n.zyh,n.AE1,n.T2N,n.IIj,n.nKr,n.KdK,n.rgH,r.UX,n.j7H.forChild(),k.m,E.Bz.forChild([{path:"",component:p,data:{title:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438"}}])]})}}]);
//# sourceMappingURL=655.5e99099dd7d2ddf0.js.map